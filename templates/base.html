<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='90' font-size='90'%3E🏎️%3C/text%3E%3C/svg%3E" />
  <title>{% block title %}F1 Fantasy Optimiser{% endblock %}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='bootstrap.min.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  {% block extra_head %}{% endblock %}
</head>
<body>
  <header>
    <div class="header-content">
      <h1>{% block header_title %}F1 Fantasy Optimiser{% endblock %}</h1>
      <button class="nav-toggle" onclick="toggleNav()">&#9776;</button>
      <nav class="nav-links">
        {% if current_user.is_authenticated %}
          <a href="/" {% if active_page=='home' %}class="active"{% endif %}>Home</a>
          <a href="/optimizer" {% if active_page=='optimizer' %}class="active"{% endif %}>Optimiser</a>
          <a href="/statistics" {% if active_page=='statistics' %}class="active"{% endif %}>Statistics</a>
          {% if current_user.admin %}
          <a href="/manage_data" {% if active_page=='manage' %}class="active"{% endif %}>Administration</a>
          {% endif %}
          <a href="/account" {% if active_page=='account' %}class="active"{% endif %}>Account</a>
          <a href="/logout">Logout</a>
        {% else %}
          <a href="/" {% if active_page=='home' %}class="active"{% endif %}>Home</a>
          <a href="/login" {% if active_page=='login' %}class="active"{% endif %}>Login</a>
          <a href="/register" {% if active_page=='register' %}class="active"{% endif %}>Register</a>
        {% endif %}
      </nav>
    </div>
  </header>

  {% block content %}{% endblock %}

  <div id="toast-container" class="toast-container position-fixed bottom-0 end-0 p-3"></div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    function toggleNav() {
      document.querySelector('.nav-links').classList.toggle('open');
    }
  </script>
  {% block scripts %}{% endblock %}
</body>
</html>
